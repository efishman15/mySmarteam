<ion-view>
    <ion-content has-header="true" padding="true"
                 dir="{{$root.languages[$root.user.settings.interfaceLanguage].direction}}">
        <form name="loginForm" novalidate="novalidate" ng-submit="loginForm.$valid && login(loginForm)">
            <div class="list">

                <label class="item item-input"
                       ng-class="{ 'has-error' : loginForm.email.$invalid && loginForm.email.$touched, 'valid-lr' : loginForm.email.$valid}"
                       ng-messages-include="templates/login-error-list.html">
                    <input type="email" placeholder="{{ 'EMAIL' | translate }}" name="email" ng-model="email" autofocus
                           ng-change="fieldChange(loginForm.email, loginForm.serverError);"
                           ng-minlength="5" ng-maxlength="50" required email>
                </label>

                <div class="error-container last-error-container form-errors"
                     ng-show="loginForm.email.$error && loginForm.$submitted"
                     ng-messages="loginForm.email.$error"
                     ng-messages-include="templates/login-error-list.html">
                </div>

                <label class="item item-input"
                       ng-class="{ 'has-error' : loginForm.password.$invalid  && loginForm.$submitted, 'valid-lr' : loginForm.password.$valid  && loginForm.$submitted}">
                    <input type="password" placeholder="{{ 'PASSWORD' | translate}}" name="password" ng-model="password"
                           ng-change="fieldChange(loginForm.password, loginForm.serverError);"
                           ng-minlength="5" ng-maxlength="50" required>
                </label>

                <div class="error-container last-error-container form-errors"
                     ng-show="loginForm.password.$error && loginForm.$submitted"
                     ng-messages="loginForm.password.$error"
                     ng-messages-include="templates/login-error-list.html">
                </div>

                <input type="hidden" name="serverError" ng-model="serverError" serverError>

                <div class="error-container last-error-container form-errors"
                     ng-show="loginForm.serverError.$error && loginForm.$submitted"
                     ng-messages="loginForm.serverError.$error"
                     ng-messages-include="templates/login-error-list.html">
                </div>

            </div>

            <button class="button button-full button-positive button-calm" type="submit" translate="SIGN_IN">
            </button>

            <div class="padding">
                <span translate="DO_NOT_HAVE_AN_ACCOUNT"></span>
                <a class="link" href="#/app/register" translate="SIGN_UP"></a>
            </div>

        </form>
    </ion-content>
</ion-view>
