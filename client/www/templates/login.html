<div ng-controller="LoginCtrl">
    <ion-header-bar class="bar-stable">
        <h1 class="title">Sign In</h1>
    </ion-header-bar>
    <ion-content has-header="true" padding="true" dir="{{$root.user.settings.direction}}">
        <form name="loginForm" novalidate="novalidate" ng-submit="loginForm.$valid && login(loginForm)">
            <div class="list">

                <label class="item item-input"
                       ng-class="{ 'has-error' : loginForm.email.$invalid && loginForm.email.$touched, 'valid-lr' : loginForm.email.$valid}"
                       ng-messages-include="templates/login-error-list.html">
                    <input type="email" placeholder="Email" name="email" ng-model="email" autofocus ng-change="fieldChange(loginForm.email, loginForm.serverError);"
                           ng-minlength="5" ng-maxlength="50" required email>
                </label>

                <div class="error-container last-error-container form-errors"
                     ng-show="loginForm.email.$error && loginForm.$submitted"
                     ng-messages="loginForm.email.$error"
                     ng-messages-include="templates/login-error-list.html">
                </div>

                <label class="item item-input"
                       ng-class="{ 'has-error' : loginForm.password.$invalid  && loginForm.$submitted, 'valid-lr' : loginForm.password.$valid  && loginForm.$submitted}">
                    <input type="password" placeholder="Password" name="password" ng-model="password" ng-change="fieldChange(loginForm.password, loginForm.serverError);"
                           ng-minlength="5" ng-maxlength="50" required>
                </label>

                <div class="error-container last-error-container form-errors"
                     ng-show="loginForm.password.$error && loginForm.$submitted"
                     ng-messages="loginForm.password.$error"
                     ng-messages-include="templates/login-error-list.html">
                </div>

                <input type="hidden" name="serverError" ng-model="serverError" serverError>
                <div class="error-container last-error-container form-errors"
                     ng-show="loginForm.serverError.$error && loginForm.$submitted"
                     ng-messages="loginForm.serverError.$error"
                     ng-messages-include="templates/login-error-list.html">
                </div>

            </div>

            <button class="button button-full button-positive button-calm" type="submit">
                Sign In
            </button>

            <div class="padding">
                Don't have an account?
                <a class="link" href="#/app/register">Sign Up</a>
            </div>

        </form>
    </ion-content>
</div>