{"name":"whoSmarterLogFile","hostname":"EddyHomePC","pid":6380,"level":60,"err":{"message":"Cannot read property 'newContest' of undefined","name":"TypeError","stack":"TypeError: Cannot read property 'newContest' of undefined\n    at validateContestData (C:\\Dev\\whoSmarter\\server\\business_logic\\contests.js:26:84)\n    at fn (C:\\Dev\\whoSmarter\\server\\node_modules\\async\\lib\\async.js:712:34)\n    at C:\\Dev\\whoSmarter\\server\\node_modules\\async\\lib\\async.js:1165:16\n    at C:\\Dev\\whoSmarter\\server\\node_modules\\async\\lib\\async.js:657:43\n    at C:\\Dev\\whoSmarter\\server\\node_modules\\async\\lib\\async.js:1161:30\n    at C:\\Dev\\whoSmarter\\server\\dal\\dalDb.js:288:13\n    at handleCallback (C:\\Dev\\whoSmarter\\server\\node_modules\\mongodb\\lib\\utils.js:95:12)\n    at C:\\Dev\\whoSmarter\\server\\node_modules\\mongodb\\lib\\collection.js:861:5\n    at handleCallback (C:\\Dev\\whoSmarter\\server\\node_modules\\mongodb\\node_modules\\mongodb-core\\lib\\cursor.js:234:5)\n    at nextFunction (C:\\Dev\\whoSmarter\\server\\node_modules\\mongodb\\node_modules\\mongodb-core\\lib\\cursor.js:604:5)"},"msg":"Cannot read property 'newContest' of undefined","time":"2015-09-11T05:40:51.642Z","v":0}
{"name":"whoSmarterLogFile","hostname":"EddyHomePC","pid":9344,"level":30,"session":{"_id":"55f25183c67854ebeb0b7a06","userId":"55ec2306f044dcf8356cf3a4","facebookUserId":1041809664,"isAdmin":false,"facebookAccessToken":"CAAAAUCxqXfgBADHHz84ejDe5210hwDkMRD4ydVJvaPSk6pDovM5e0pr8a6KTmsB0fTwnq1Ns36ZBo3SrKz3uMRX7EjndfTl45w4aGag0ar2ZBZBuZAfoIznpJksGBdIrO8ruZAl5gBP4eeulhJ8HSXM8h98TFI6XYqX42YBKBIdQqn4wy3ZBZBrX5m9tq1C84Lgf6oIfvFnSVH7S8EYUJg3","name":"Eddy Fishman","ageRange":{"min":21},"avatar":"https://graph.facebook.com/1041809664/picture?type=square","created":1441948195156,"expires":"2015-09-11T05:39:55.156Z","userToken":"57127a30-5843-11e5-b394-9952affa10a0","settings":{"language":"he","timezoneOffset":-180,"sound":false},"score":2760,"xp":80,"rank":1,"quiz":{"clientData":{"totalQuestions":5,"currentQuestionIndex":1,"finished":false,"currentQuestion":{"text":"מהי עיר הבירה של מצרים?","answers":[{"id":1,"text":"בירות"},{"id":2,"text":"בגדד"},{"id":3,"text":"קהיר"},{"id":4,"text":"רבת עמון"}],"correctRatio":86,"direction":"rtl"}},"serverData":{"previousQuestions":["55cb3f9648023f0bdc07c172"],"topics":[5,270],"contestId":"55f12ac9a06d299019fe6d20","questionScore":20,"score":0,"currentQuestion":{"_id":"55cb3f9648023f0bdc07c172","questionId":2059,"text":"מהי עיר הבירה של מצרים?","topicId":270,"minAge":0,"maxAge":120,"createDate":"15/08/2009 12:34:29","wikipediaHint":null,"wikipediaAnswer":null,"correctAnswers":6,"wrongAnswers":1,"correctRatio":0.8571428571428571,"answers":[{"id":2,"text":"בירות","correct":false},{"id":3,"text":"בגדד","correct":false},{"id":1,"text":"קהיר","correct":true},{"id":4,"text":"רבת עמון","correct":false}]}}}},"contest":{"startDate":1441948197303,"endDate":1442034597303,"endOption":"h24","participants":0,"manualParticipants":0,"manualRating":0,"teams":[{"name":"dfsadf","score":0},{"name":"sadfsad","score":0}]},"msg":"Attempt to create a new contest without having an eligable rank or feature asset","time":"2015-09-11T05:42:26.450Z","v":0}
{"name":"whoSmarterLogFile","hostname":"EddyHomePC","pid":9344,"level":30,"session":{"_id":"55f25183c67854ebeb0b7a06","userId":"55ec2306f044dcf8356cf3a4","facebookUserId":1041809664,"isAdmin":false,"facebookAccessToken":"CAAAAUCxqXfgBADHHz84ejDe5210hwDkMRD4ydVJvaPSk6pDovM5e0pr8a6KTmsB0fTwnq1Ns36ZBo3SrKz3uMRX7EjndfTl45w4aGag0ar2ZBZBuZAfoIznpJksGBdIrO8ruZAl5gBP4eeulhJ8HSXM8h98TFI6XYqX42YBKBIdQqn4wy3ZBZBrX5m9tq1C84Lgf6oIfvFnSVH7S8EYUJg3","name":"Eddy Fishman","ageRange":{"min":21},"avatar":"https://graph.facebook.com/1041809664/picture?type=square","created":1441950543684,"expires":"2015-09-11T06:19:03.684Z","userToken":"cee79040-5848-11e5-ba9d-11a339f758ad","settings":{"language":"he","timezoneOffset":-180,"sound":false},"score":2760,"xp":80,"rank":1,"quiz":{"clientData":{"totalQuestions":5,"currentQuestionIndex":1,"finished":false,"currentQuestion":{"text":"מהי עיר הבירה של מצרים?","answers":[{"id":1,"text":"בירות"},{"id":2,"text":"בגדד"},{"id":3,"text":"קהיר"},{"id":4,"text":"רבת עמון"}],"correctRatio":86,"direction":"rtl"}},"serverData":{"previousQuestions":["55cb3f9648023f0bdc07c172"],"topics":[5,270],"contestId":"55f12ac9a06d299019fe6d20","questionScore":20,"score":0,"currentQuestion":{"_id":"55cb3f9648023f0bdc07c172","questionId":2059,"text":"מהי עיר הבירה של מצרים?","topicId":270,"minAge":0,"maxAge":120,"createDate":"15/08/2009 12:34:29","wikipediaHint":null,"wikipediaAnswer":null,"correctAnswers":6,"wrongAnswers":1,"correctRatio":0.8571428571428571,"answers":[{"id":2,"text":"בירות","correct":false},{"id":3,"text":"בגדד","correct":false},{"id":1,"text":"קהיר","correct":true},{"id":4,"text":"רבת עמון","correct":false}]}}}},"contest":{"startDate":1441950564543,"endDate":1442036964543,"endOption":"h24","participants":0,"manualParticipants":0,"manualRating":0,"teams":[{"name":"fasdf","score":0},{"name":"sadfdsa","score":0}]},"msg":"Attempt to create a new contest without having an eligable rank or feature asset","time":"2015-09-11T05:49:32.287Z","v":0}
{"name":"whoSmarterLogFile","hostname":"EddyHomePC","pid":6132,"level":30,"sessionId":"69081630-584a-11e5-8960-671fef217fda","msg":"Error retrieving session - session expired","time":"2015-09-11T06:02:16.770Z","v":0}
{"name":"whoSmarterLogFile","hostname":"EddyHomePC","pid":6132,"level":30,"sessionId":"852c5f10-584a-11e5-8960-671fef217fda","msg":"Error retrieving session - session expired","time":"2015-09-11T07:19:39.334Z","v":0}
{"name":"whoSmarterLogFile","hostname":"EddyHomePC","pid":6132,"level":30,"sessionId":"4e399b80-5859-11e5-8960-671fef217fda","msg":"Error retrieving session - session expired","time":"2015-09-11T08:16:34.342Z","v":0}
{"name":"whoSmarterLogFile","hostname":"EddyHomePC","pid":6132,"level":30,"sessionId":"dc35b150-585c-11e5-8960-671fef217fda","msg":"Error retrieving session - session expired","time":"2015-09-11T08:20:05.663Z","v":0}
{"name":"whoSmarterLogFile","hostname":"EddyHomePC","pid":6132,"level":30,"sessionId":"ca1980e0-585d-11e5-8960-671fef217fda","msg":"Error retrieving session - session expired","time":"2015-09-11T08:22:30.046Z","v":0}
{"name":"whoSmarterLogFile","hostname":"EddyHomePC","pid":6132,"level":30,"sessionId":"3da03db0-585e-11e5-8960-671fef217fda","msg":"Error retrieving session - session expired","time":"2015-09-11T08:23:56.351Z","v":0}
{"name":"whoSmarterLogFile","hostname":"EddyHomePC","pid":10780,"level":30,"session":{"_id":"55f27a7bc67854ebeb0b7a0a","userId":"55ec2306f044dcf8356cf3a4","facebookUserId":1041809664,"isAdmin":true,"facebookAccessToken":"CAAAAUCxqXfgBADHHz84ejDe5210hwDkMRD4ydVJvaPSk6pDovM5e0pr8a6KTmsB0fTwnq1Ns36ZBo3SrKz3uMRX7EjndfTl45w4aGag0ar2ZBZBuZAfoIznpJksGBdIrO8ruZAl5gBP4eeulhJ8HSXM8h98TFI6XYqX42YBKBIdQqn4wy3ZBZBrX5m9tq1C84Lgf6oIfvFnSVH7S8EYUJg3","name":"Eddy Fishman","ageRange":{"min":21},"avatar":"https://graph.facebook.com/1041809664/picture?type=square","created":1441960623169,"expires":"2015-09-11T09:07:03.169Z","userToken":"46beeb10-5860-11e5-9f1d-e9842919a7bf","settings":{"language":"he","timezoneOffset":-180,"sound":true},"score":2760,"xp":300,"rank":3},"contest":{"startDate":1441960626411,"endDate":1442047026411,"endOption":"h24","participants":0,"manualParticipants":0,"manualRating":0,"teams":[{"name":"אדי","score":0},{"name":"ליאור","score":0}]},"msg":"Attempt to create a new contest without having an eligable rank or feature asset","time":"2015-09-11T08:37:21.164Z","v":0}
{"name":"whoSmarterLogFile","hostname":"EddyHomePC","pid":11632,"level":60,"err":{"message":"Cannot read property '#<Object>' of undefined","name":"TypeError","stack":"TypeError: Cannot read property '#<Object>' of undefined\n    at joinToContestObject (C:\\Dev\\whoSmarter\\server\\business_logic\\contests.js:234:22)\n    at operations (C:\\Dev\\whoSmarter\\server\\business_logic\\contests.js:283:17)\n    at fn (C:\\Dev\\whoSmarter\\server\\node_modules\\async\\lib\\async.js:712:34)\n    at C:\\Dev\\whoSmarter\\server\\node_modules\\async\\lib\\async.js:1165:16\n    at C:\\Dev\\whoSmarter\\server\\node_modules\\async\\lib\\async.js:657:43\n    at Immediate._onImmediate (C:\\Dev\\whoSmarter\\server\\node_modules\\async\\lib\\async.js:1158:34)\n    at processImmediate [as _immediateCallback] (timers.js:358:17)"},"msg":"Cannot read property '#<Object>' of undefined","time":"2015-09-11T08:39:04.046Z","v":0}
{"name":"whoSmarterLogFile","hostname":"EddyHomePC","pid":10124,"level":60,"err":{"message":"Cannot read property '[object Object]' of undefined","name":"TypeError","stack":"TypeError: Cannot read property '[object Object]' of undefined\n    at joinToContestObject (C:\\Dev\\whoSmarter\\server\\business_logic\\contests.js:234:22)\n    at operations (C:\\Dev\\whoSmarter\\server\\business_logic\\contests.js:283:17)\n    at fn (C:\\Dev\\whoSmarter\\server\\node_modules\\async\\lib\\async.js:712:34)\n    at C:\\Dev\\whoSmarter\\server\\node_modules\\async\\lib\\async.js:1165:16\n    at C:\\Dev\\whoSmarter\\server\\node_modules\\async\\lib\\async.js:657:43\n    at Immediate._onImmediate (C:\\Dev\\whoSmarter\\server\\node_modules\\async\\lib\\async.js:1158:34)\n    at processImmediate [as _immediateCallback] (timers.js:358:17)"},"msg":"Cannot read property '[object Object]' of undefined","time":"2015-09-11T08:43:00.615Z","v":0}
{"name":"whoSmarterLogFile","hostname":"EddyHomePC","pid":10124,"level":60,"err":{"message":"Cannot read property '[object Object]' of undefined","name":"TypeError","stack":"TypeError: Cannot read property '[object Object]' of undefined\n    at joinToContestObject (C:\\Dev\\whoSmarter\\server\\business_logic\\contests.js:234:22)\n    at operations (C:\\Dev\\whoSmarter\\server\\business_logic\\contests.js:283:17)\n    at fn (C:\\Dev\\whoSmarter\\server\\node_modules\\async\\lib\\async.js:712:34)\n    at C:\\Dev\\whoSmarter\\server\\node_modules\\async\\lib\\async.js:1165:16\n    at C:\\Dev\\whoSmarter\\server\\node_modules\\async\\lib\\async.js:657:43\n    at Immediate._onImmediate (C:\\Dev\\whoSmarter\\server\\node_modules\\async\\lib\\async.js:1158:34)\n    at processImmediate [as _immediateCallback] (timers.js:358:17)"},"msg":"Cannot read property '[object Object]' of undefined","time":"2015-09-11T08:43:06.337Z","v":0}
{"name":"whoSmarterLogFile","hostname":"EddyHomePC","pid":7140,"level":60,"err":{"message":"now is not defined","name":"ReferenceError","stack":"ReferenceError: now is not defined\n    at Object.joinContestTeam (C:\\Dev\\whoSmarter\\server\\business_logic\\contests.js:210:48)\n    at C:\\Dev\\whoSmarter\\server\\business_logic\\quiz.js:101:39\n    at fn (C:\\Dev\\whoSmarter\\server\\node_modules\\async\\lib\\async.js:712:34)\n    at C:\\Dev\\whoSmarter\\server\\node_modules\\async\\lib\\async.js:1165:16\n    at C:\\Dev\\whoSmarter\\server\\node_modules\\async\\lib\\async.js:657:43\n    at C:\\Dev\\whoSmarter\\server\\node_modules\\async\\lib\\async.js:1161:30\n    at C:\\Dev\\whoSmarter\\server\\dal\\dalDb.js:882:9\n    at handleCallback (C:\\Dev\\whoSmarter\\server\\node_modules\\mongodb\\lib\\utils.js:95:12)\n    at C:\\Dev\\whoSmarter\\server\\node_modules\\mongodb\\lib\\collection.js:861:5\n    at handleCallback (C:\\Dev\\whoSmarter\\server\\node_modules\\mongodb\\node_modules\\mongodb-core\\lib\\cursor.js:234:5)"},"msg":"now is not defined","time":"2015-09-11T08:49:44.324Z","v":0}
{"name":"whoSmarterLogFile","hostname":"EddyHomePC","pid":9956,"level":30,"sessionId":"5c252220-587a-11e5-b00b-ebadcd3c48dc","msg":"Error retrieving session - session expired","time":"2015-09-11T11:44:44.978Z","v":0}
{"name":"whoSmarterLogFile","hostname":"EddyHomePC","pid":6732,"level":60,"err":{"message":"undefined is not a function","name":"TypeError","stack":"TypeError: undefined is not a function\n    at Object.module.exports.payPalBuy [as handle] (C:\\Dev\\whoSmarter\\server\\business_logic\\payments.js:31:12)\n    at next_layer (C:\\Dev\\whoSmarter\\server\\node_modules\\express\\lib\\router\\route.js:103:13)\n    at Object.isAuthenticated [as handle] (C:\\Dev\\whoSmarter\\server\\server.js:59:9)\n    at next_layer (C:\\Dev\\whoSmarter\\server\\node_modules\\express\\lib\\router\\route.js:103:13)\n    at Route.dispatch (C:\\Dev\\whoSmarter\\server\\node_modules\\express\\lib\\router\\route.js:107:5)\n    at C:\\Dev\\whoSmarter\\server\\node_modules\\express\\lib\\router\\index.js:213:24\n    at Function.proto.process_params (C:\\Dev\\whoSmarter\\server\\node_modules\\express\\lib\\router\\index.js:286:12)\n    at next (C:\\Dev\\whoSmarter\\server\\node_modules\\express\\lib\\router\\index.js:207:19)\n    at next (C:\\Dev\\whoSmarter\\server\\node_modules\\express\\lib\\router\\index.js:182:38)\n    at next (C:\\Dev\\whoSmarter\\server\\node_modules\\express\\lib\\router\\index.js:182:38)"},"msg":"undefined is not a function","time":"2015-09-11T22:07:18.752Z","v":0}
{"name":"whoSmarterLogFile","hostname":"EddyHomePC","pid":12140,"level":60,"err":{"message":"undefined is not a function","name":"TypeError","stack":"TypeError: undefined is not a function\n    at Object.module.exports.payPalBuy [as handle] (C:\\Dev\\whoSmarter\\server\\business_logic\\payments.js:31:12)\n    at next_layer (C:\\Dev\\whoSmarter\\server\\node_modules\\express\\lib\\router\\route.js:103:13)\n    at Object.isAuthenticated [as handle] (C:\\Dev\\whoSmarter\\server\\server.js:59:9)\n    at next_layer (C:\\Dev\\whoSmarter\\server\\node_modules\\express\\lib\\router\\route.js:103:13)\n    at Route.dispatch (C:\\Dev\\whoSmarter\\server\\node_modules\\express\\lib\\router\\route.js:107:5)\n    at C:\\Dev\\whoSmarter\\server\\node_modules\\express\\lib\\router\\index.js:213:24\n    at Function.proto.process_params (C:\\Dev\\whoSmarter\\server\\node_modules\\express\\lib\\router\\index.js:286:12)\n    at next (C:\\Dev\\whoSmarter\\server\\node_modules\\express\\lib\\router\\index.js:207:19)\n    at next (C:\\Dev\\whoSmarter\\server\\node_modules\\express\\lib\\router\\index.js:182:38)\n    at next (C:\\Dev\\whoSmarter\\server\\node_modules\\express\\lib\\router\\index.js:182:38)"},"msg":"undefined is not a function","time":"2015-09-11T22:10:20.952Z","v":0}
